---
import type { CollectionEntry } from 'astro:content';
const { post } = Astro.props as { post: CollectionEntry<'blog'> };
const { data, slug } = post;
---
<article
  class="post-card group rounded-3xl border border-white/5 bg-soft/60 p-6 shadow-soft transition hover:border-accent/60 hover:bg-soft"
  data-tags={JSON.stringify(data.tags.map((tag) => tag.toLowerCase()))}
  data-post-id={post.id}
>
  <div class="flex flex-col gap-4">
    <div>
      <a href={`/blog/${slug}/`} class="text-xl font-semibold text-white transition group-hover:text-accent">
        {data.title}
      </a>
      <p class="mt-1 text-xs uppercase tracking-wide text-gray-500">
        {new Date(data.pubDate).toLocaleDateString(undefined, {
          year: 'numeric',
          month: 'short',
          day: 'numeric'
        })}
      </p>
    </div>
    <p class="text-sm text-gray-300">{data.description}</p>
    <div class="flex flex-wrap gap-2">
      {data.tags.map((tag) => (
        <button
          type="button"
          data-filter-tag={tag.toLowerCase()}
          data-filter-label={tag}
          aria-pressed="false"
          class="tag-filter rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs font-medium text-gray-200 transition hover:border-accent/60 hover:text-accent/90 aria-pressed:true:border-accent/60 aria-pressed:true:bg-accent/20 aria-pressed:true:text-accent"
        >
          #{tag}
        </button>
      ))}
    </div>
  </div>
</article>
